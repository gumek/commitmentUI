{"ast":null,"code":"import { MatAccordion } from '@angular/material/expansion';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/material/expansion\";\nimport * as i3 from \"@angular/material/form-field\";\nimport * as i4 from \"@angular/material/input\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/common\";\nfunction CommitmentListComponent_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2, \"Loading...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"yellow\": a0,\n    \"red\": a1,\n    \"green\": a2\n  };\n};\nfunction CommitmentListComponent_table_7_tr_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"mat-expansion-panel\", 4)(2, \"mat-expansion-panel-header\")(3, \"mat-panel-title\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-panel-description\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"mat-form-field\", 5)(8, \"mat-label\");\n    i0.ɵɵtext(9, \"Answer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function CommitmentListComponent_table_7_tr_3_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const commitment_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.sendAnswer(commitment_r3));\n    });\n    i0.ɵɵtext(12, \" Send \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"mat-card\")(14, \"mat-card-content\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"mat-card\")(18, \"mat-card-content\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const commitment_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(9, _c0, commitment_r3.status == \"Due\", commitment_r3.status === \"Overdue\", commitment_r3.status === \"Completed\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", commitment_r3.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", commitment_r3.description, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", commitment_r3.answer);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Deadline: \", i0.ɵɵpipeBind2(16, 6, commitment_r3.deadline, \"yyyy-MM-dd hh:mm\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Status: \", commitment_r3.status, \"\");\n  }\n}\nfunction CommitmentListComponent_table_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 2)(1, \"tbody\")(2, \"mat-accordion\");\n    i0.ɵɵtemplate(3, CommitmentListComponent_table_7_tr_3_Template, 20, 13, \"tr\", 3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.commitments);\n  }\n}\nexport class CommitmentListComponent {\n  constructor(http, baseUrl) {\n    this.commitments = [];\n    http.get(baseUrl + 'commitments').subscribe(result => {\n      this.commitments = result;\n    }, error => console.error(error));\n  }\n  sendAnswer(commitment) {\n    console.log(\"Called with commitment id\" + commitment.id);\n  }\n}\nCommitmentListComponent.ɵfac = function CommitmentListComponent_Factory(t) {\n  return new (t || CommitmentListComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'));\n};\nCommitmentListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CommitmentListComponent,\n  selectors: [[\"app-commitment-list\"]],\n  viewQuery: function CommitmentListComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(MatAccordion, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.accordion = _t.first);\n    }\n  },\n  decls: 8,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [\"class\", \"table\", \"aria-labelledby\", \"tableLabel\", 4, \"ngIf\"], [\"aria-labelledby\", \"tableLabel\", 1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"], [\"appearance\", \"fill\"], [\"matInput\", \"\", 3, \"value\"], [\"mat-raised-button\", \"\", 3, \"click\"]],\n  template: function CommitmentListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"My commitments\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"p\");\n      i0.ɵɵtext(3, \"Below you can see the list of your commitments.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\");\n      i0.ɵɵtext(5, \"Please make sure you answer all due and overdue commitments!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, CommitmentListComponent_p_6_Template, 3, 0, \"p\", 0);\n      i0.ɵɵtemplate(7, CommitmentListComponent_table_7_Template, 4, 1, \"table\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", !(ctx.commitments == null ? null : ctx.commitments.length));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.commitments.length);\n    }\n  },\n  dependencies: [i2.MatAccordion, i2.MatExpansionPanel, i2.MatExpansionPanelHeader, i2.MatExpansionPanelTitle, i2.MatExpansionPanelDescription, i3.MatFormField, i3.MatLabel, i4.MatInput, i5.MatCard, i5.MatCardContent, i6.MatButton, i7.NgClass, i7.NgForOf, i7.NgIf, i7.DatePipe],\n  styles: [\".green[_ngcontent-%COMP%] {\\r\\n  background-color: green;\\r\\n}\\r\\n\\r\\n.red[_ngcontent-%COMP%] {\\r\\n  background-color: red;\\r\\n}\\r\\n\\r\\n.yellow[_ngcontent-%COMP%] {\\r\\n  background-color: yellow;\\r\\n}\\r\\n\\r\\n.mdc-button--raised[_ngcontent-%COMP%] {\\r\\n    margin-left: 10px;\\r\\n}\\n/*# sourceURL=webpack://./src/app/commitments-list/commitment-list.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tbWl0bWVudHMtbGlzdC9jb21taXRtZW50LWxpc3QuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0Usd0JBQXdCO0FBQzFCOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCIiwic291cmNlc0NvbnRlbnQiOlsiLmdyZWVuIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcclxufVxyXG5cclxuLnJlZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xyXG59XHJcblxyXG4ueWVsbG93IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3c7XHJcbn1cclxuXHJcbi5tZGMtYnV0dG9uLS1yYWlzZWQge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,YAAY,QAAQ,6BAA6B;;;;;;;;;;;ICI1DC,yBAAgC;IAAIA,0BAAU;IAAAA,iBAAK;;;;;;;;;;;;;IAK7CA,0BAA2C;IAInCA,YACF;IAAAA,iBAAkB;IAClBA,6CAAuB;IACrBA,YACF;IAAAA,iBAAwB;IAE1BA,yCAAkC;IACrBA,sBAAM;IAAAA,iBAAY;IAC7BA,4BAA8C;IAChDA,iBAAiB;IACjBA,kCAA2D;IAAjCA;MAAA;MAAA;MAAA;MAAA,OAASA,+CAAsB;IAAA,EAAC;IACxDA,uBACF;IAAAA,iBAAS;IACTA,iCAAU;IACUA,aAA4D;;IAAAA,iBAAmB;IAEnGA,iCAAU;IACUA,aAA6B;IAAAA,iBAAmB;;;;IApBjDA,eAA0I;IAA1IA,6JAA0I;IAGzJA,eACF;IADEA,oDACF;IAEEA,eACF;IADEA,0DACF;IAIgBA,eAA6B;IAA7BA,uDAA6B;IAM3BA,eAA4D;IAA5DA,0GAA4D;IAG5DA,eAA6B;IAA7BA,2DAA6B;;;;;IAxB3DA,gCAA6E;IAGvEA,gFAwBK;IACPA,iBAAgB;;;;IAzBaA,eAAc;IAAdA,4CAAc;;;ADC/C,OAAM,MAAOC,uBAAuB;EAIlCC,YAAYC,IAAgB,EAAsBC,OAAe;IAF1D,gBAAW,GAAiB,EAAE;IAGnCD,IAAI,CAACE,GAAG,CAAeD,OAAO,GAAG,aAAa,CAAC,CAACE,SAAS,CAACC,MAAM,IAAG;MACjE,IAAI,CAACC,WAAW,GAAGD,MAAM;IAC3B,CAAC,EAAEE,KAAK,IAAIC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CAAC;EACnC;EAEAE,UAAU,CAACC,UAAsB;IAC/BF,OAAO,CAACG,GAAG,CAAC,2BAA2B,GAAGD,UAAU,CAACE,EAAE,CAAC;EAC1D;;AAZWb,uBAAuB;mBAAvBA,uBAAuB,4DAII,UAAU;AAAA;AAJrCA,uBAAuB;QAAvBA,uBAAuB;EAAAc;EAAAC;IAAA;qBACvBjB,YAAY;;;;;;;;;;;;MCZzBC,0BAAI;MAAAA,8BAAc;MAAAA,iBAAK;MAEvBA,yBAAG;MAAAA,+DAA+C;MAAAA,iBAAI;MACtDA,yBAAG;MAAAA,4EAA4D;MAAAA,iBAAI;MAEnEA,oEAAuD;MAEvDA,4EA8BQ;;;MAhCJA,eAA0B;MAA1BA,iFAA0B;MAEqBA,eAAwB;MAAxBA,6CAAwB","names":["MatAccordion","i0","CommitmentListComponent","constructor","http","baseUrl","get","subscribe","result","commitments","error","console","sendAnswer","commitment","log","id","selectors","viewQuery"],"sourceRoot":"","sources":["D:\\Backup\\Projects\\CommitmentUI\\ClientApp\\src\\app\\commitments-list\\commitment-list.component.ts","D:\\Backup\\Projects\\CommitmentUI\\ClientApp\\src\\app\\commitments-list\\commitment-list.html"],"sourcesContent":["import { Component, Inject, ViewChild } from '@angular/core';\r\nimport { MatAccordion } from '@angular/material/expansion';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Commitment } from '../interfaces';\r\n\r\n\r\n@Component({\r\n  selector: 'app-commitment-list',\r\n  templateUrl: './commitment-list.html',\r\n  styleUrls: ['./commitment-list.css']\r\n})\r\nexport class CommitmentListComponent {\r\n  @ViewChild(MatAccordion) accordion: MatAccordion;\r\n  public commitments: Commitment[] = [];\r\n\r\n  constructor(http: HttpClient, @Inject('BASE_URL') baseUrl: string) {\r\n    http.get<Commitment[]>(baseUrl + 'commitments').subscribe(result => {\r\n      this.commitments = result;\r\n    }, error => console.error(error));\r\n  }\r\n\r\n  sendAnswer(commitment: Commitment) {\r\n    console.log(\"Called with commitment id\" + commitment.id)\r\n  }\r\n}\r\n","<h2>My commitments</h2>\r\n\r\n<p>Below you can see the list of your commitments.</p>\r\n<p>Please make sure you answer all due and overdue commitments!</p>\r\n\r\n<p *ngIf=\"!commitments?.length\"><em>Loading...</em></p>\r\n\r\n<table class='table' aria-labelledby=\"tableLabel\" *ngIf=\"commitments.length\">\r\n  <tbody>\r\n    <mat-accordion>\r\n      <tr *ngFor=\"let commitment of commitments\">\r\n        <mat-expansion-panel [ngClass]=\"{ 'yellow' : commitment.status == 'Due', 'red' : commitment.status === 'Overdue', 'green' : commitment.status === 'Completed'}\">\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              {{commitment.title}}\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              {{commitment.description}}\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label>Answer</mat-label>\r\n            <input matInput value=\"{{commitment.answer}}\">\r\n          </mat-form-field>\r\n          <button mat-raised-button (click)=\"sendAnswer(commitment)\">\r\n            Send\r\n          </button>\r\n          <mat-card>\r\n            <mat-card-content>Deadline: {{commitment.deadline | date: 'yyyy-MM-dd hh:mm'}}</mat-card-content>\r\n          </mat-card>\r\n          <mat-card>\r\n            <mat-card-content>Status: {{commitment.status}}</mat-card-content>\r\n          </mat-card>\r\n        </mat-expansion-panel>\r\n      </tr>\r\n    </mat-accordion>\r\n  </tbody>\r\n</table>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}