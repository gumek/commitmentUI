{"ast":null,"code":"import { SolidCommitment } from '../classes';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/material/form-field\";\nimport * as i4 from \"@angular/material/select\";\nimport * as i5 from \"@angular/material/core\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"@angular/forms\";\nfunction ManageCommitmentsComponent_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2, \"Loading...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ManageCommitmentsComponent_mat_card_5_mat_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const t_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", t_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", t_r3.title, \" \");\n  }\n}\nfunction ManageCommitmentsComponent_mat_card_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 3)(1, \"mat-card-header\")(2, \"mat-card-title\");\n    i0.ɵɵtext(3, \"Create new commitment\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"mat-card-content\", 4)(5, \"mat-form-field\", 5)(6, \"mat-label\");\n    i0.ɵɵtext(7, \"Select template\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"mat-select\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function ManageCommitmentsComponent_mat_card_5_Template_mat_select_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.selectedTemplate = $event);\n    });\n    i0.ɵɵtemplate(9, ManageCommitmentsComponent_mat_card_5_mat_option_9_Template, 2, 2, \"mat-option\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"mat-form-field\", 5)(11, \"mat-label\");\n    i0.ɵɵtext(12, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function ManageCommitmentsComponent_mat_card_5_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.selectedTemplate.title = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"mat-form-field\", 9)(15, \"mat-label\");\n    i0.ɵɵtext(16, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function ManageCommitmentsComponent_mat_card_5_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.selectedTemplate.description = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"mat-form-field\", 10)(19, \"mat-label\");\n    i0.ɵɵtext(20, \"Deadline\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function ManageCommitmentsComponent_mat_card_5_Template_input_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.selectedTemplate.deadline = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"mat-card-actions\", 12)(23, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ManageCommitmentsComponent_mat_card_5_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.createCommitment(ctx_r9.selectedTemplate));\n    });\n    i0.ɵɵtext(24, \"Create\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.selectedTemplate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.templates);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.selectedTemplate.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.selectedTemplate.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.selectedTemplate.deadline);\n  }\n}\nexport class ManageCommitmentsComponent {\n  constructor(http, baseUrl, _snackBar) {\n    this._snackBar = _snackBar;\n    this.templates = [];\n    this.baseUrl = baseUrl;\n    this.http = http;\n    this.getTemplates();\n  }\n  getTemplates() {\n    this.http.get(this.baseUrl + 'templates').subscribe(result => {\n      this.templates = result;\n      this.selectedTemplate = this.templates[0];\n    }, error => console.error(error));\n  }\n  createCommitment(template) {\n    let commitment = new SolidCommitment();\n    commitment.title = template.title;\n    commitment.description = template.description;\n    commitment.deadline = template.deadline;\n    console.log(commitment);\n    this.sendCommitment(commitment);\n  }\n  sendCommitment(commitment) {\n    this.http.post(this.baseUrl + 'commitments', commitment).subscribe(result => {\n      console.log(result);\n    }, error => console.error(error));\n    this.openSnackBar('Commitment created!', 'Close');\n  }\n  openSnackBar(message, action) {\n    this._snackBar.open(message, action);\n  }\n}\nManageCommitmentsComponent.ɵfac = function ManageCommitmentsComponent_Factory(t) {\n  return new (t || ManageCommitmentsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'), i0.ɵɵdirectiveInject(i2.MatSnackBar));\n};\nManageCommitmentsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ManageCommitmentsComponent,\n  selectors: [[\"app-manage-commitments\"]],\n  decls: 6,\n  vars: 2,\n  consts: [[\"id\", \"tableLabel\"], [4, \"ngIf\"], [\"class\", \"template-card\", 4, \"ngIf\"], [1, \"template-card\"], [\"selectedTemplate\", \"\"], [\"appearance\", \"fill\", 1, \"col\", \"templateTitle\"], [3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"matInput\", \"\", \"disabled\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"appearance\", \"fill\", 1, \"col\", \"templateDescription\"], [\"appearance\", \"fill\", 1, \"col\", \"templateDeadline\"], [\"matInput\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"align\", \"end\"], [\"mat-button\", \"\", 3, \"click\"], [3, \"value\"]],\n  template: function ManageCommitmentsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"Manage commitments\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"p\");\n      i0.ɵɵtext(3, \"You can create new commitments here.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, ManageCommitmentsComponent_p_4_Template, 3, 0, \"p\", 1);\n      i0.ɵɵtemplate(5, ManageCommitmentsComponent_mat_card_5_Template, 25, 5, \"mat-card\", 2);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", !ctx.selectedTemplate);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.selectedTemplate);\n    }\n  },\n  dependencies: [i3.MatFormField, i3.MatLabel, i4.MatSelect, i5.MatOption, i6.MatInput, i7.MatCard, i7.MatCardActions, i7.MatCardContent, i7.MatCardHeader, i7.MatCardTitle, i8.MatButton, i9.NgForOf, i9.NgIf, i10.DefaultValueAccessor, i10.NgControlStatus, i10.NgModel],\n  styles: [\".col[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  align-items: flex-start;\\r\\n}\\r\\n\\r\\n.templateDeadline[_ngcontent-%COMP%], .templateTitle[_ngcontent-%COMP%], .templateDescription[_ngcontent-%COMP%] {\\r\\n  width: 1000px;\\r\\n}\\r\\n\\r\\n.template-card[_ngcontent-%COMP%] {\\r\\n  width: 1030px;\\r\\n}\\n/*# sourceURL=webpack://./src/app/manage-commitments/manage-commitments.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWFuYWdlLWNvbW1pdG1lbnRzL21hbmFnZS1jb21taXRtZW50cy5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGFBQWE7QUFDZiIsInNvdXJjZXNDb250ZW50IjpbIi5jb2wge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcclxufVxyXG5cclxuLnRlbXBsYXRlRGVhZGxpbmUsIC50ZW1wbGF0ZVRpdGxlLCAudGVtcGxhdGVEZXNjcmlwdGlvbiB7XHJcbiAgd2lkdGg6IDEwMDBweDtcclxufVxyXG5cclxuLnRlbXBsYXRlLWNhcmQge1xyXG4gIHdpZHRoOiAxMDMwcHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["SolidCommitment","i0","ManageCommitmentsComponent","constructor","http","baseUrl","_snackBar","getTemplates","get","subscribe","result","templates","selectedTemplate","error","console","createCommitment","template","commitment","title","description","deadline","log","sendCommitment","post","openSnackBar","message","action","open","selectors","decls","vars","consts"],"sourceRoot":"","sources":["D:\\Backup\\Projects\\CommitmentUI\\ClientApp\\src\\app\\manage-commitments\\manage-commitments.component.ts","D:\\Backup\\Projects\\CommitmentUI\\ClientApp\\src\\app\\manage-commitments\\manage-commitments.component.html"],"sourcesContent":["import { Component, Inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Commitment, CommitmentTemplate } from '../interfaces';\r\nimport { SolidCommitment } from '../classes';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\n@Component({\r\n  selector: 'app-manage-commitments',\r\n  templateUrl: './manage-commitments.component.html',\r\n  styleUrls: ['./manage-commitments.css']\r\n})\r\nexport class ManageCommitmentsComponent {\r\n  public templates: CommitmentTemplate[] = [];\r\n  public selectedTemplate: CommitmentTemplate;\r\n\r\n  private baseUrl: string;\r\n  private http: HttpClient;\r\n\r\n  constructor(http: HttpClient, @Inject('BASE_URL') baseUrl: string, private _snackBar: MatSnackBar) {\r\n    this.baseUrl = baseUrl;\r\n    this.http = http;\r\n\r\n    this.getTemplates();\r\n  }\r\n\r\n  getTemplates() {\r\n    this.http.get<CommitmentTemplate[]>(this.baseUrl + 'templates').subscribe(result => {\r\n      this.templates = result;\r\n      this.selectedTemplate = this.templates[0];\r\n    }, error => console.error(error));\r\n  }\r\n\r\n  createCommitment(template: CommitmentTemplate) {\r\n    let commitment = new SolidCommitment();\r\n    commitment.title = template.title;\r\n    commitment.description = template.description;\r\n    commitment.deadline = template.deadline;\r\n\r\n    console.log(commitment);\r\n    this.sendCommitment(commitment);\r\n  }\r\n\r\n  sendCommitment(commitment: Commitment) {\r\n    this.http.post<Commitment>(this.baseUrl + 'commitments', commitment).subscribe(result => {\r\n      console.log(result);\r\n    }, error => console.error(error));\r\n\r\n    this.openSnackBar('Commitment created!', 'Close');\r\n  }\r\n\r\n  openSnackBar(message: string, action: string) {\r\n    this._snackBar.open(message, action);\r\n  }\r\n}\r\n","<h1 id=\"tableLabel\">Manage commitments</h1>\r\n\r\n<p>You can create new commitments here.</p>\r\n\r\n<p *ngIf=\"!selectedTemplate\"><em>Loading...</em></p>\r\n\r\n<mat-card class=\"template-card\" *ngIf=\"selectedTemplate\">\r\n  <mat-card-header>\r\n    <mat-card-title>Create new commitment</mat-card-title>\r\n  </mat-card-header>\r\n  <mat-card-content selectedTemplate>\r\n    <mat-form-field class=\"col templateTitle\" appearance=\"fill\">\r\n      <mat-label>Select template</mat-label>\r\n      <mat-select [(ngModel)]=\"selectedTemplate\">\r\n        <mat-option *ngFor=\"let t of templates\" [value]=\"t\">\r\n          {{t.title}}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n    <mat-form-field class=\"col templateTitle\" appearance=\"fill\">\r\n      <mat-label>Title</mat-label>\r\n      <input matInput disabled [(ngModel)]=\"selectedTemplate.title\">\r\n    </mat-form-field>\r\n    <mat-form-field class=\"col templateDescription\" appearance=\"fill\">\r\n      <mat-label>Description</mat-label>\r\n      <input matInput disabled [(ngModel)]=\"selectedTemplate.description\">\r\n    </mat-form-field>\r\n    <mat-form-field class=\"col templateDeadline\" appearance=\"fill\">\r\n      <mat-label>Deadline</mat-label>\r\n      <input matInput [(ngModel)]=\"selectedTemplate.deadline\">\r\n    </mat-form-field>\r\n  </mat-card-content>\r\n  <mat-card-actions align=\"end\">\r\n    <button mat-button (click)=\"createCommitment(selectedTemplate)\">Create</button>\r\n  </mat-card-actions>\r\n</mat-card>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}